<p id="notice"><%= notice %></p>

<h2 class='has-text-centered m-2 is-size-3 has-text-weight-bold'><%= @recipe.name %> </h2>

<p class='m-2 is-size-5'>
  <strong>Preparation time:</strong>
  <%= @recipe.preparation_time %>
</p>

<p class='m-2 is-size-5'>
  <strong>Cooking time:</strong>
  <%= @recipe.cooking_time %>
</p>

<p class='m-2 is-size-5'>
  <strong>Description:</strong>
  <%= @recipe.description %>
</p>

<p class='m-2 is-size-5'>
  <strong>Public:</strong>
  <%= @recipe.public %>
</p>

<p class='m-2 is-size-5'>
  <strong>User:</strong>
  <%= @recipe.user_id %>
</p>

<div class='is-flex is-justify-content-space-between mb-5'>
  <div>
    <%= link_to 'Edit', edit_recipe_path(@recipe), class: 'button is-warning is-small mt-3' %>
    <%= link_to 'Back', recipes_path, class: 'button is-link is-small mt-3' %>
  </div>
  <div >
    <%= link_to 'Generate shopping list', general_shopping_list_path(id: @recipe), class: 'button is-link' %>
    <%= link_to 'Add ingredient', new_recipe_recipe_food_path(@recipe), class: 'button is-link' %>
  </div>
</div>

<div class="table-container">
  <table class="table is-fullwidth is-striped is-bordered">
    <thead>
      <tr>
        <th>Food</th>
        <th>Quantity</th>
        <th>Value</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @recipe.recipe_foods.each do |recipe_food| %>
        <tr>
          <td><%= recipe_food.food.name %></td>
          <td><%= recipe_food.food.measurement_unit %></td>
          <td><%= recipe_food.food.price * recipe_food.quantity %></td>
          <td><%= link_to 'Edit', edit_recipe_food_path(recipe_food), class: 'button is-warning is-small' %></td>
          <td><%= button_to 'Delete', recipe_food_path(recipe_food), method: :delete, data: { confirm: 'Are you sure you want to delete?' }, class: 'button is-danger is-small' %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
